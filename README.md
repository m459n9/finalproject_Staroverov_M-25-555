# üí± ValutaTrade Hub

**ValutaTrade Hub** ‚Äî —ç—Ç–æ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª–µ–º –≤–∞–ª—é—Ç –∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç.  
–ü—Ä–æ–µ–∫—Ç –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å Core (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –≤–∞–ª—é—Ç–∞–º–∏), Parser Service (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –∏–∑ API CoinGecko –∏ ExchangeRate), –∞ —Ç–∞–∫–∂–µ —Å–∏—Å—Ç–µ–º—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∫—É—Ä—Å–æ–≤.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–º (–∫—É–ø–∏—Ç—å / –ø—Ä–æ–¥–∞—Ç—å –≤–∞–ª—é—Ç—É)  
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –±–∞–ª–∞–Ω—Å–æ–≤ —Å –ø–µ—Ä–µ—Å—á—ë—Ç–æ–º –≤ –±–∞–∑–æ–≤—É—é –≤–∞–ª—é—Ç—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî USD)  
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç –∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç  
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (CoinGecko, ExchangeRate API)  
- –õ–æ–∫–∞–ª—å–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å TTL  
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –∏ –æ–ø–µ—Ä–∞—Ü–∏–π

## –î–µ–º–æ

[![asciicast](https://asciinema.org/a/KbLAQX4SqjrtgiMdYEwoeGIMa.svg)](https://asciinema.org/a/KbLAQX4SqjrtgiMdYEwoeGIMa)

–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ ‚Üí –ø—Ä–æ—Å–º–æ—Ç—Ä –∫—É—Ä—Å–æ–≤  
- –ü–æ–∫—É–ø–∫–∞ / –ø—Ä–æ–¥–∞–∂–∞ –≤–∞–ª—é—Ç—ã ‚Üí –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Ä—Ç—Ñ–µ–ª—è  
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–∞ ‚Üí –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ 

| –°–ª–æ–π | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-------------|
| **Core** | –õ–æ–≥–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—à–µ–ª—å–∫–æ–≤ –∏ –æ–ø–µ—Ä–∞—Ü–∏–π (buy, sell, get-rate) |
| **Infra** | –ù–∞—Å—Ç—Ä–æ–π–∫–∏, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π |
| **Parser Service** | –ü–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –∏–∑ CoinGecko –∏ ExchangeRate API |
| **CLI** | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º |
| **Data** | JSON-—Ñ–∞–π–ª—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π –∏ –∫—É—Ä—Å–æ–≤ |

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
valutatrade_hub/
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ models.py
‚îÇ   ‚îú‚îÄ‚îÄ usecases.py
‚îÇ   ‚îú‚îÄ‚îÄ currencies.py
‚îÇ   ‚îú‚îÄ‚îÄ exceptions.py
‚îÇ   ‚îú‚îÄ‚îÄ utils.py
‚îú‚îÄ‚îÄ infra/
‚îÇ   ‚îú‚îÄ‚îÄ settings.py
‚îÇ   ‚îú‚îÄ‚îÄ database.py
‚îú‚îÄ‚îÄ parser_service/
‚îÇ   ‚îú‚îÄ‚îÄ api_clients.py
‚îÇ   ‚îú‚îÄ‚îÄ updater.py
‚îÇ   ‚îú‚îÄ‚îÄ config.py
‚îÇ   ‚îú‚îÄ‚îÄ scheduler.py
‚îú‚îÄ‚îÄ cli/
‚îÇ   ‚îú‚îÄ‚îÄ interface.py
‚îú‚îÄ‚îÄ decorators.py
‚îú‚îÄ‚îÄ logging_config.py
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ users.json
‚îÇ   ‚îú‚îÄ‚îÄ portfolios.json
‚îÇ   ‚îú‚îÄ‚îÄ rates.json
‚îÇ   ‚îú‚îÄ‚îÄ exchange_rates.json
‚îú‚îÄ‚îÄ logs/
‚îÇ   ‚îú‚îÄ‚îÄ valutatrade_hub.log
‚îÇ   ‚îú‚îÄ‚îÄ actions.log
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/<your_username>/valutatrade-hub.git
cd valutatrade-hub

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ Poetry
make install

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–Ω—Ç–µ—Ä–∞
make lint

# –ó–∞–ø—É—Å–∫ CLI
poetry run project
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CLI

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥

```bash
poetry run project register --username maksim --password 1234
poetry run project login --username maksim --password 1234
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Ä—Ç—Ñ–µ–ª—è

```bash
poetry run project show-portfolio

# –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
# –ü–æ—Ä—Ç—Ñ–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 'maksim' (–±–∞–∑–∞: USD):
# +----------+------------+------------+
# | Currency |  Balance   | Rate ‚Üí USD |
# +----------+------------+------------+
# |   USD    |  9457.59   |     1      |
# |   BTC    | 0.00500000 |  108399.0  |
# +----------+------------+------------+
# ---------------------------------
# –ò–¢–û–ì–û: 9 999.59 USD
```

### –ö—É–ø–∏—Ç—å –∏–ª–∏ –ø—Ä–æ–¥–∞—Ç—å –≤–∞–ª—é—Ç—É

``` bash
poetry run project buy --currency BTC --amount 0.01
poetry run project sell --currency BTC --amount 0.003
```

### –û–±–Ω–æ–≤–∏—Ç—å –∫—É—Ä—Å –≤–∞–ª—é—Ç

``` bash
# –ò–∑ CoinGecko
poetry run project update-rates --source coingecko

# –ò–∑ ExchangeRate API
export EXCHANGERATE_API_KEY="–≤–∞—à_api_–∫–ª—é—á"
poetry run project update-rates --source exchangerate
```

### –ü–æ–ª—É—á–∏—Ç—å –∫—É—Ä—Å –≤–∞–ª—é—Ç

``` bash
poetry run project get-rate --from BTC --to USD

# –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
# –ö—É—Ä—Å BTC‚ÜíUSD: 108593.0 (–æ–±–Ω–æ–≤–ª–µ–Ω–æ: 2025-10-22T15:49:00Z)
# –û–±—Ä–∞—Ç–Ω—ã–π –∫—É—Ä—Å USD‚ÜíBTC: 0.0000092087
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∫—ç—à–∞ –∫—É—Ä—Å–æ–≤

``` bash
poetry run project show-rates --currency BTC

# –ü—Ä–∏–º–µ—Ä:
# Rates from cache (updated at 2025-10-22T15:49:00Z):
# +---------+----------+----------------------+-----------+
# |   PAIR  |   RATE   |      UPDATED_AT      |   SOURCE  |
# +---------+----------+----------------------+-----------+
# | BTC_USD | 108593.0 | 2025-10-22T15:49:00Z | CoinGecko |
# +---------+----------+----------------------+-----------+
```
